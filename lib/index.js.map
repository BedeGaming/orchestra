{"version":3,"sources":["index.js"],"names":["window","__agent","start","Orchestra","extend","Marionette","_","$","Radio","Service","Storage","Syphon","Validation","Cocktail","Route","Router","Collection","Currency","LocalStorage","Translator","Visibility","ModuleHelper","instances","getInstance","namespace","Application","listenTo"],"mappings":"AAAA;;;;;;AAEA;;;;AACA;;;;AACA;;;;AACA;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AAEA,IAAIA,OAAOC,OAAX,EAAoB;AAClBD,SAAOC,OAAP,CAAeC,KAAf;AACD;;AAED;;AAEA;AACA,IAAMC,YAAY,EAAlB;AACA,iBAAEC,MAAF,CAASD,SAAT;AACA,iBAAEC,MAAF,CAASD,SAAT,EAAoB,mBAASE,UAAT,CAAoBD,MAApB,EAApB;;AAEA,iBAAEA,MAAF,CAASD,SAAT,EAAoB;AAClBG,qBADkB;AAElBC,qBAFkB;AAGlBC,2BAHkB;AAIlBC,6BAJkB;AAKlBC,8BALkB;AAMlBC,6BANkB;AAOlBC,0CAPkB;AAQlBC,8BARkB;AASlBC,+BATkB;AAUlBC,iCAVkB;AAWlBC,kCAXkB;AAYlBC,8BAZkB;AAalBC,sCAbkB;AAclBC,iCAdkB;AAelBC,kCAfkB;AAgBlBC,gCAhBkB;;AAkBlBC,aAAW,EAlBO;;AAoBlBC,aApBkB,uBAoBNC,SApBM,EAoBK;AAAA;;AACrBA,gBAAYA,aAAa,MAAzB;AACA,QAAI,CAAC,KAAKF,SAAL,CAAeE,SAAf,CAAL,EAAgC;AAC9B,WAAKF,SAAL,CAAeE,SAAf,IAA4B,IAAI,KAAKC,WAAT,CAAqB;AAC/CD,mBAAWA;AADoC,OAArB,CAA5B;;AAIA,WAAKE,QAAL,CAAc,KAAKJ,SAAL,CAAeE,SAAf,CAAd,EAAyC,SAAzC,EAAoD,YAAM;AACxD,eAAO,MAAKF,SAAL,CAAeE,SAAf,CAAP;AACD,OAFD;AAGD;;AAED,WAAO,KAAKF,SAAL,CAAeE,SAAf,CAAP;AACD;AAjCiB,CAApB;;kBAqCerB,S","file":"index.js","sourcesContent":["'use strict';\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport Backbone from 'backbone';\nimport {Route, Router} from 'backbone-routing';\nimport Validation from 'backbone-validation';\nimport Cocktail from 'backbone.cocktail';\nimport Radio from 'backbone.radio';\nimport Service from 'backbone.service';\nimport Storage from 'backbone.storage';\nimport Syphon from 'backbone.syphon';\nimport Collection from './mvc/collection';\nimport Currency from './helpers/currency';\nimport LocalStorage from './helpers/localStorage';\nimport Translator from './helpers/translate';\nimport Visibility from './helpers/visibility';\nimport ModuleHelper from './helpers/module';\nimport handlebarsHelpers from './helpers/handlebars';\nimport Marionette from 'backbone.marionette';\nimport 'backbone.stickit';\n\nif (window.__agent) {\n  window.__agent.start(Backbone, Marionette);\n}\n\nhandlebarsHelpers();\n\n// build orchestra framework\nconst Orchestra = {};\n_.extend(Orchestra, Backbone);\n_.extend(Orchestra, Backbone.Marionette.extend());\n\n_.extend(Orchestra, {\n  _,\n  $,\n  Radio,\n  Service,\n  Storage,\n  Syphon,\n  Validation,\n  Cocktail,\n  Route,\n  Router,\n  Collection,\n  Currency,\n  LocalStorage,\n  Translator,\n  Visibility,\n  ModuleHelper,\n\n  instances: {},\n\n  getInstance(namespace) {\n    namespace = namespace || 'main';\n    if (!this.instances[namespace]) {\n      this.instances[namespace] = new this.Application({\n        namespace: namespace\n      });\n\n      this.listenTo(this.instances[namespace], 'destroy', () => {\n        delete this.instances[namespace];\n      });\n    }\n\n    return this.instances[namespace];\n  }\n\n});\n\nexport default Orchestra;\n"]}