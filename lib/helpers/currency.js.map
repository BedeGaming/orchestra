{"version":3,"sources":["helpers/currency.js"],"names":[],"mappings":"AAAA,YAAY,CAAC;;;;;;;;;;;;6BAEK,gBAAgB;;;;uBACd,SAAS;;;;AAE7B,IAAM,OAAO,GAAG,2BAAM,OAAO,CAAC,QAAQ,CAAC,CAAC;;IAElC,cAAc;WAAd,cAAc;0BAAd,cAAc;;;eAAd,cAAc;;WACT,mBAAC,IAAI,EAAE,QAAQ,EAAE;AACxB,2BAAQ,QAAQ,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;KAClC;;;WAEK,gBAAC,MAAM,EAAuC;UAArC,QAAQ,yDAAG,CAAC;UAAE,cAAc,yDAAG,IAAI;;AAChD,UAAM,IAAI,GAAG,cAAc,IAAI,OAAO,CAAC,OAAO,CAAC,gBAAgB,CAAC,CAAC;;AAEjE,UAAI,MAAM,GAAG,MAAM,CAAC;;AAEpB,UAAI,IAAI,EAAE;AACR,6BAAQ,QAAQ,CAAC,IAAI,CAAC,CAAC;AACvB,YAAI,QAAQ,GAAG,qBAAQ,YAAY,EAAE,CAAC;AACtC,YAAI,QAAQ,CAAC,MAAM,EAAE;AACnB,gBAAM,GAAG,QAAQ,CAAC,MAAM,CAAC;SAC1B;OACF;;AAED,WAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,EAAE,CAAC,EAAE,EAAE;AACjC,YAAI,CAAC,KAAK,CAAC,EAAE;AACX,gBAAM,IAAI,GAAG,CAAC;SACf;;AAED,cAAM,IAAI,GAAG,CAAC;OACf;;AAED,aAAO,0BAAQ,MAAM,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;KACvC;;;SA3BG,cAAc;;;qBA8BL,IAAI,cAAc,EAAE","file":"helpers/currency.js","sourcesContent":["'use strict';\n\nimport Radio from 'backbone.radio';\nimport numeral from 'numeral';\n\nconst channel = Radio.channel('global');\n\nclass CurrencyHelper {\n  addLocale(code, language) {\n    numeral.language(code, language);\n  }\n\n  format(amount, decimals = 0, currencyLocale = null) {\n    const lang = currencyLocale || channel.request('currencyLocale');\n\n    let format = '$0,0';\n\n    if (lang) {\n      numeral.language(lang);\n      let language = numeral.languageData();\n      if (language.format) {\n        format = language.format;\n      }\n    }\n\n    for (let i = 0; i < decimals; i++) {\n      if (i === 0) {\n        format += '.';\n      }\n\n      format += '0';\n    }\n\n    return numeral(amount).format(format);\n  }\n}\n\nexport default new CurrencyHelper();\n"],"sourceRoot":"/source/"}