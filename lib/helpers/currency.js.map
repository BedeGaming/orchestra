{"version":3,"sources":["helpers/currency.js"],"names":[],"mappings":"AAAA,YAAY,CAAC;;;;;;;;;;;;;;;;;;;;AAKb,IAAM,OAAO,GAAG,mBAAM,OAAO,CAAC,QAAQ,CAAC,CAAC;;IAElC,cAAc;WAAd,cAAc;0BAAd,cAAc;;;eAAd,cAAc;;8BACR,IAAI,EAAE,QAAQ,EAAE;AACxB,wBAAQ,QAAQ,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;KAClC;;;2BAEM,MAAM,EAAuC;UAArC,QAAQ,yDAAG,CAAC;UAAE,cAAc,yDAAG,IAAI;;AAChD,UAAM,IAAI,GAAG,cAAc,IAAI,OAAO,CAAC,OAAO,CAAC,gBAAgB,CAAC,CAAC;;AAEjE,UAAI,SAAS,GAAG,MAAM,CAAC;;AAEvB,UAAI,IAAI,EAAE;AACR,0BAAQ,QAAQ,CAAC,IAAI,CAAC,CAAC;AACvB,YAAI,QAAQ,GAAG,kBAAQ,YAAY,EAAE,CAAC;AACtC,YAAI,QAAQ,CAAC,MAAM,EAAE;AACnB,mBAAS,GAAG,QAAQ,CAAC,MAAM,CAAC;SAC7B;OACF;;AAED,WAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,EAAE,CAAC,EAAE,EAAE;AACjC,YAAI,CAAC,KAAK,CAAC,EAAE;AACX,mBAAS,IAAI,GAAG,CAAC;SAClB;;AAED,iBAAS,IAAI,GAAG,CAAC;OAClB;;AAED,aAAO,uBAAQ,MAAM,CAAC,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;KAC1C;;;SA3BG,cAAc;;;kBA8BL,IAAI,cAAc,EAAE","file":"helpers/currency.js","sourcesContent":["'use strict';\n\nimport Radio from 'backbone.radio';\nimport numeral from 'numeral';\n\nconst channel = Radio.channel('global');\n\nclass CurrencyHelper {\n  addLocale(code, language) {\n    numeral.language(code, language);\n  }\n\n  format(amount, decimals = 0, currencyLocale = null) {\n    const lang = currencyLocale || channel.request('currencyLocale');\n\n    let formatStr = '$0,0';\n\n    if (lang) {\n      numeral.language(lang);\n      let language = numeral.languageData();\n      if (language.format) {\n        formatStr = language.format;\n      }\n    }\n\n    for (let i = 0; i < decimals; i++) {\n      if (i === 0) {\n        formatStr += '.';\n      }\n\n      formatStr += '0';\n    }\n\n    return numeral(amount).format(formatStr);\n  }\n}\n\nexport default new CurrencyHelper();\n"],"sourceRoot":"/source/"}